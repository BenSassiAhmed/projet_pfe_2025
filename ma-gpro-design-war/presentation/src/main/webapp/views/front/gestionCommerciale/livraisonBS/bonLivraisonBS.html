<script type="text/javascript">
	var CommandBarElements = document.querySelectorAll(".ms-CommandBar");
	for (var i = 0; i < CommandBarElements.length; i++) {
		new fabric['CommandBar'](CommandBarElements[i]);
	}

	var SearchBoxElements = document.querySelectorAll(".ms-SearchBox");
	for (var i = 0; i < SearchBoxElements.length; i++) {
		new fabric['SearchBox'](SearchBoxElements[i]);
	}
</script>
<div class="container-fluid" ng-controller="bonlivraisonControllerBS" style="background-color: #fff;">

	<div class="row" ng-show="traitementEnCoursGenererAll =='true'">
		<div class="col-sm-5"></div>
		<div class="col-sm-2">
			<br>
			<div ng-click="traitementEnCoursGenererAll ='false'">


				<div class="lds-ellipsis">
					<div></div>
					<div></div>
					<div></div>
					<div></div>
				</div>




			</div>

		</div>
		<div class="col-sm-5"></div>

	</div>
	<div class="row" ng-show="displayMode != 'edit'">
		<div class="col-sm-12">
			<br /> <span class="ms-ListItem-primaryText">Crit&eacute;re
				de Recherche</span> <br />
			<div class="ms-CommandBar ms-CommandBar--navBar">
				<div class="ms-CommandBar-sideCommands">
					<div class="ms-SearchBox ms-SearchBox--commandBar">
						<input class="ms-SearchBox-field" type="text" value="" ng-model="filterOptions.filterText" />
						<label class="ms-SearchBox-label"> <i class="ms-SearchBox-icon ms-Icon ms-Icon--Search"></i>
							<span class="ms-SearchBox-text">Rechercher</span>
						</label>
						<div class="ms-CommandButton ms-SearchBox-clear ms-CommandButton--noLabel">
							<button class="ms-CommandButton-button">
								<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--Cancel"></i></span> <span
									class="ms-CommandButton-label"></span>
							</button>
						</div>
						<div class="ms-CommandButton ms-SearchBox-exit ms-CommandButton--noLabel">
							<button class="ms-CommandButton-button">
								<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--ChromeBack"></i></span>
								<span class="ms-CommandButton-label"></span>
							</button>
						</div>
						<div class="ms-CommandButton ms-SearchBox-filter ms-CommandButton--noLabel">
							<button class="ms-CommandButton-button">
								<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--Filter"></i></span> <span
									class="ms-CommandButton-label"></span>
							</button>
						</div>
					</div>

					<div class="ms-CommandButton ms-CommandButton--noLabel">
						<button class="ms-CommandButton-button">
							<span class="ms-CommandButton-icon ms-fontColor-themePrimary"><i
									class="ms-Icon ms-Icon--Info"></i></span> <span
								class="ms-CommandButton-label"></span>
						</button>
					</div>
				</div>


				<div class="ms-CommandBar-mainArea">
					<div class="ms-CommandButton">
						<button class="ms-CommandButton-button" ng-click="affectationBLVente(bonLivraisonVenteCourant)">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--CirclePlus"></i></span> <span
								class="ms-CommandButton-label">Ajouter</span>
						</button>
					</div>


					<div class="ms-CommandButton ms-CommandButton--dropdown">
						<button class="ms-CommandButton-button" ng-click="generateReport(miseCourant)">
							<span class="ms-CommandButton-icon ms-fontColor-themePrimary"><i
									class="ms-Icon ms-Icon--Generate"></i></span> <span
								class="ms-CommandButton-label">G&eacute;n&eacute;rer</span> <span
								class="ms-CommandButton-dropdownIcon"><i
									class="ms-Icon ms-Icon--ChevronDown"></i></span>
						</button>
						<ul class="ms-ContextualMenu is-opened ms-ContextualMenu--hasIcons">
							<li class="ms-ContextualMenu-item">
								<a class="ms-ContextualMenu-link" tabindex="1"
									ng-click="downloadAllBonLiv(bonLivraisonVenteCourant)">PDF</a>

							</li>

							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1"
									ng-click="downloadAllBonLivExcel(bonLivraisonVenteCourant)">Excel</a></li>

							<!-- 	<li class="ms-ContextualMenu-item">
										<a class="ms-ContextualMenu-link" tabindex="1"
										  ng-click="downloadAllBonLivExcelDevise(bonLivraisonVenteCourant)">EXCEL avec devise</a>
						
									  </li> -->


						</ul>
					</div>

					<div class="ms-CommandButton">
						<button class="ms-CommandButton-button"
							ng-click="rechercherBonLivraisonVente(bonLivraisonVenteCourant)">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--FolderSearch"></i></span>
							<span class="ms-CommandButton-label">Rechercher</span>
						</button>
					</div>

					<div class="ms-CommandButton">
						<button class="ms-CommandButton-button" ng-click="annulerAjout()">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--Cancel"></i></span> <span
								class="ms-CommandButton-label">Annuler</span>
						</button>
					</div>
					<div class="ms-CommandButton ms-CommandBar-overflowButton ms-CommandButton--noLabel">
						<button class="ms-CommandButton-button">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--More"></i></span> <span
								class="ms-CommandButton-label"></span>
						</button>
						<ul class="ms-ContextualMenu is-opened">
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">Folder</a>
								<i class="ms-Icon ms-Icon--Folder"></i>
							</li>
							<li class="ms-ContextualMenu-item ms-ContextualMenu-item--divider"></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">Plain Text
									Document</a> <i class="ms-Icon ms-Icon--Document"></i></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">A
									Coffee</a> <i class="ms-Icon ms-Icon--Coffee"></i></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link"
									tabindex="1">Picture</a> <i class="ms-Icon ms-Icon--Picture"></i></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">Money</a>
								<i class="ms-Icon ms-Icon--Money"></i>
							</li>
						</ul>
					</div>
				</div>
			</div>

			<div class="panel panel-primary">

				<div class="panel-body">
					<form class="form-horizontal" name="rechercheBLVenteForm" id="rechercheBLVenteForm">
						<div class="row">

							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Référence</span>
										</div>
										<input class="form-control" ng-model="bonLivraisonVenteCourant.referenceBl "
											ng-init="bonLivraisonVenteCourant.referenceBl =''" />
									</div>
								</div>
							</div>


							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">R&eacute;f.BS</span>
										</div>
										<input class="form-control" ng-model="bonLivraisonVenteCourant.referenceBs "
											ng-init="bonLivraisonVenteCourant.referenceBs =''" />
									</div>
								</div>
							</div>

							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Client</span>
										</div>
										<select ui-select2="true" class="form-control"
											ng-model="bonLivraisonVenteCourant.partieIntId"
											ng-init="bonLivraisonVenteCourant.partieIntId=''"
											style="border: 1px solid #e5eaee !important;">
											<option value="">Tous Clients</option>
											<option ng-repeat="client in listePartieInteresseeCache | filter:{famillePartieInteressee:1}"
												value="{{client.id}}">{{client.abreviation}}</option>
										</select>
									</div>
								</div>
							</div>


							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Facture</span>
										</div>

										<select ui-select2="true" class="form-control"
											ng-model="bonLivraisonVenteCourant.avecFacture"
											ng-init="bonLivraisonVenteCourant.avecFacture= ''"
											style="border: 1px solid #e5eaee !important;">
											<option value="">Tous</option>
											<option value="ouiFacture">oui</option>
											<option value="nonFacture">Non</option>
										</select>
									</div>
								</div>
							</div>






						</div>



						<div class="row">


							<div class="col-sm-3" ng-controller="DatepickerDemoController">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Date Liv.Entre</span>
										</div>
										<input type="text" class="form-control datepicker" datepicker-popup="{{format}}"
											ng-init="bonLivraisonVenteCourant.dateLivraisonMin=''"
											ng-model="bonLivraisonVenteCourant.dateLivraisonMin" is-open="opened"
											datepicker-options="dateOptions" date-="enabled(date, mode)"
											ng-required="true" close-text="Close" />

										<div class="input-group-append">
											<button type="button" class="btn1 btn-default" ng-click="open($event)"
												style="
															color: rgb(54, 153, 255);
															background-color: rgb(225, 240, 255);
														">
												<i class="glyphicon glyphicon-calendar" style="color: #3699ff;"></i>
											</button>
										</div>
									</div>
								</div>

							</div>
							<div class="col-sm-3" ng-controller="DatepickerDemoController">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Et</span>
										</div>
										<input type="text" class="form-control datepicker" datepicker-popup="{{format}}"
											ng-init="bonLivraisonVenteCourant.dateLivraisonMax=''"
											ng-model="bonLivraisonVenteCourant.dateLivraisonMax" is-open="opened"
											datepicker-options="dateOptions" date-="enabled(date, mode)"
											ng-required="true" close-text="Close" />

										<div class="input-group-append">
											<button type="button" class="btn1 btn-default" ng-click="open($event)"
												style="
															color: rgb(54, 153, 255);
															background-color: rgb(225, 240, 255);
														">
												<i class="glyphicon glyphicon-calendar" style="color: #3699ff;"></i>
											</button>
										</div>
									</div>
								</div>

							</div>

							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Prix Entre</span>
										</div>
										<input class="form-control" type="number" step="any"
											ng-model="bonLivraisonVenteCourant.prixMin "
											ng-init="bonLivraisonVenteCourant.prixMin =''" />
									</div>
								</div>
							</div>

							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Et</span>
										</div>
										<input class="form-control" type="number" step="any"
											ng-model="bonLivraisonVenteCourant.prixMax "
											ng-init="bonLivraisonVenteCourant.prixMax =''" />
									</div>
								</div>
							</div>



						</div>
						<div class="row">


							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Qantité Entre</span>
										</div>
										<input class="form-control" type="number" step="any"
											ng-model="bonLivraisonVenteCourant.metrageMin "
											ng-init="bonLivraisonVenteCourant.metrageMin =''" />
									</div>
								</div>
							</div>

							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Et</span>
										</div>
										<input class="form-control" type="number" step="any"
											ng-model="bonLivraisonVenteCourant.metrageMax "
											ng-init="bonLivraisonVenteCourant.metrageMax =''" />
									</div>
								</div>
							</div>


							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Etat</span>
										</div>
										<input class="form-control" ng-model="bonLivraisonVenteCourant.etat "
											ng-init="bonLivraisonVenteCourant.etat =''" />
									</div>
								</div>
							</div>

							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Nature Livraison</span>
										</div>

										<select ui-select2="true" class="form-control"
											ng-model="bonLivraisonVenteCourant.natureLivraison"
											ng-init="bonLivraisonVenteCourant.natureLivraison= ''"
											style="border: 1px solid #e5eaee !important;">
											<option value="">Tous</option>
											<!-- 		<option value="Injection">Injection</option>
											<option value="Tempographie">Tempographie</option>
											<option value="Assemblage">Assemblage</option>
											<option value="Spread">Spread</option> -->
										</select>
									</div>
								</div>
							</div>



						</div>

						<div class="row">
							<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Devise </span>
										</div>
										<select ui-select2="true" class="form-control"
											ng-model="bonLivraisonVenteCourant.devise"
											ng-init="bonLivraisonVenteCourant.devise=''"
											style="border: 1px solid #e5eaee !important;">

											<option value="">Tous</option>
											<option ng-repeat="dev in ListeDevise" value="{{dev.id}}">
												{{dev.designation}}</option>
										</select>
									</div>
								</div>
							</div>

							<div class="col-sm-3" ng-show="clientActif.blackMode==true">

								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<label class="input-group-text ms-Label">A facturer</label>
										</div>
										<select ui-select2 ng-model="bonLivraisonVenteCourant.declare"
											data-placeholder="" class="form-control"
											style="border: 1px solid #e5eaee !important;">
											<option value="">Tous</option>
											<option value="oui">OUI</option>
											<option value="non">NON</option>
										</select>
									</div>
								</div>
							</div>
							
								<div class="col-sm-3">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Réf BL Manuelle</span>
										</div>
										<input class="form-control" ng-model="bonLivraisonVenteCourant.referenceBlManuel "
											ng-init="bonLivraisonVenteCourant.referenceBlManuel =''" />
									</div>
								</div>
							</div>
						</div>




					</form>
				</div>
			</div>


		</div>

	</div>



	<div class="row" ng-show="displayMode == 'edit'">
	
	  <div class="pull-right">
			   <div  class="col-sm-12"  ng-show="erreurUpdateBL">
            <div class="ms-MessageBar ms-MessageBar--error mx-auto float-left" style="width: 300px !important;">
              <div class="ms-MessageBar-content">
                <div class="ms-MessageBar-icon" ng-click="erreurUpdateBL = 'false'">
                  <i class="ms-Icon ms-Icon--ErrorBadge"></i>
                </div>
                <div class="ms-MessageBar-text">
                  <b>{{msgErreurUpdateBL}}</b>
                  <br />
                </div>
              </div>
            </div>
          </div>
			  </div>
	
	
		<div class="col-md-12">


			<br /> <span class="ms-ListItem-primaryText">Donn&eacute;es
				G&eacute;n&eacute;rales</span>
			<br />
			
			
			
			  
			
			
			
			<div class="lds-spinner" ng-show="traitementEnCours=='true'" ng-click="traitementEnCours ='false'"
				style="padding-left:50%">
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
			</div>
			
			
			
			
			  
			
			
			
			
			
			
			<div class="ms-CommandBar ms-CommandBar--navBar">
				<div class="ms-CommandBar-sideCommands">


					<div class="ms-CommandButton ms-CommandButton--noLabel">
						<button class="ms-CommandButton-button">
							<span class="ms-CommandButton-icon ms-fontColor-themePrimary"><i
									class="ms-Icon ms-Icon--Info"></i></span> <span
								class="ms-CommandButton-label"></span>
						</button>
					</div>
				</div>
				<div class="ms-CommandBar-mainArea">
					<div class="ms-CommandButton">
						<button class="ms-CommandButton-button" permission="['Production_Livraison_Edit']"
							ng-click="sauvegarderBonVente(bonLivraisonVenteCourant)">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--Save"></i></span> <span
								class="ms-CommandButton-label">Enregistrer</span>
						</button>


					</div>

					<div class="ms-CommandButton ms-CommandButton--dropdown">
						<button class="ms-CommandButton-button">
							<span class="ms-CommandButton-icon ms-fontColor-themePrimary"><i
									class="ms-Icon ms-Icon--Generate"></i></span> <span
								class="ms-CommandButton-label">G&eacute;n&eacute;rer</span> <span
								class="ms-CommandButton-dropdownIcon"><i
									class="ms-Icon ms-Icon--ChevronDown"></i></span>
						</button>
						<ul class="ms-ContextualMenu is-opened ms-ContextualMenu--hasIcons">



							<li class="ms-ContextualMenu-item">


								<div class="row">
									<div class="col-sm-8">
										<a class="ms-ContextualMenu-link" tabindex="1" ng-show="modePdf == 'actif'"
											ng-click="download(bonLivraisonVenteCourant.id,'oui',3)">PDF </a>

									</div>


								</div>


							</li>



						<!-- 	<li class="ms-ContextualMenu-item">


								<div class="row">
									<div class="col-sm-8">
										<a class="ms-ContextualMenu-link" tabindex="1" ng-show="modePdf == 'actif'"
											ng-click="download(bonLivraisonVenteCourant.id,'oui',33)">PDF/OF </a>

									</div>


								</div>


							</li> -->





						</ul>
					</div>



					<div class="ms-CommandButton">
						<button class="ms-CommandButton-button" ng-click="annulerAjout()">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--Back"></i></span> <span
								class="ms-CommandButton-label">Retour</span>
						</button>
					</div>
					
					<div class="ms-CommandButton">
						<button class="ms-CommandButton-button" ng-click="annulerAjoutRapide()">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--Back"></i></span> <span
								class="ms-CommandButton-label">Retour Rapide</span>
						</button>
					</div>
					
					<div class="ms-CommandButton ms-CommandBar-overflowButton ms-CommandButton--noLabel">
						<button class="ms-CommandButton-button">
							<span class="ms-CommandButton-icon"><i class="ms-Icon ms-Icon--More"></i></span> <span
								class="ms-CommandButton-label"></span>
						</button>
						<ul class="ms-ContextualMenu is-opened">
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">Folder</a>
								<i class="ms-Icon ms-Icon--Folder"></i>
							</li>
							<li class="ms-ContextualMenu-item ms-ContextualMenu-item--divider"></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">Plain
									Text
									Document</a> <i class="ms-Icon ms-Icon--Document"></i></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">A
									Coffee</a> <i class="ms-Icon ms-Icon--Coffee"></i></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link"
									tabindex="1">Picture</a> <i class="ms-Icon ms-Icon--Picture"></i></li>
							<li class="ms-ContextualMenu-item"><a class="ms-ContextualMenu-link" tabindex="1">Money</a>
								<i class="ms-Icon ms-Icon--Money"></i>
							</li>
						</ul>
					</div>
				</div>
			</div>











			<div class="panel-body" ng-show="displayMode == 'edit'">

				<div class="ms-ListItem-secondaryText" style="color:rgb(61, 123, 185);;" ng-show="modePdf == 'actif'">
					Modification Bon De Livraison</div>
				<div class="ms-ListItem-secondaryText" style="color:rgb(61, 123, 185);" ng-show="modePdf != 'actif'">
					Cr&eacute;ation Bon De Livraison</div>



				<form class="form-horizontal" id="creationBLVenteForm" name="creationBLVenteForm">
					<div class="row">


						<div class="col-sm-4">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">Référence</span>
									</div>
									<input class="form-control" ng-model="bonLivraisonVenteCourant.reference"
										ng-init="bonLivraisonVenteCourant.reference=''"
										style="border: 1px solid #e5eaee !important;" />
								</div>
							</div>
						</div>

						<div class="col-sm-4">


							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<label class="input-group-text ms-Label is-required">Client</label>
									</div>
									<select ui-select2="true" required ng-model="bonLivraisonVenteCourant.partieIntId"
										ng-init="bonLivraisonVenteCourant.partieIntId =''" data-placeholder=""
										class="form-control" style="border: 1px solid #e5eaee !important;">

										<option
											ng-repeat="client in listePartieInteresseeCache | filter:{famillePartieInteressee:1}"
											value="{{client.id}}">{{client.reference}}-{{client.abreviation}}</option>
									</select>
								</div>
							</div>
						</div>


						<div class="col-sm-4">


							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<label class="input-group-text ms-Label is-required">Magasin</label>
									</div>
									<select ui-select2 required ng-model="bonLivraisonVenteCourant.idDepot"
										ng-init="bonLivraisonVenteCourant.idDepot =''" data-placeholder="" required
										class="form-control" style="border: 1px solid #e5eaee !important;">
										<option ng-repeat="magazin in listeMagazinCache" value="{{magazin.id}}">
											{{magazin.designation}}
										</option>
									</select>
								</div>
							</div>
						</div>



					</div>



					<div class="row">

						<div class="col-sm-6">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<label class="input-group-text">R&eacute;f BS</label>
									</div>
									<input class="form-control" ui-select2="select2TaggingOptions"
										ng-model="tagReferenceBSList" style="border: 1px solid #e5eaee !important;" />
								</div>
							</div>
						</div>

					<!-- 	<div class="col-sm-2">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<button type="button" class="btn btn-success" class="btn btn-action"
											ng-click="validerBS()">Valider/Produit</button>

									</div>

								</div>
							</div>
						</div> -->
						
						<div class="col-sm-1">
											<div  ng-show="traitementEnCours=='true'">
										   <div  ><div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div ></div>
										   <div >{{msg}}</div>
											   </div>
						</div> 


						<div class="col-sm-2">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<button type="button" class="btn btn-success" class="btn btn-action"
											ng-click="validerBSByOF()">Valider/OF</button>

									</div>

								</div>
							</div>
						</div>

						<!-- 	<div class="col-sm-1">
											<div  ng-show="traitementEnCours=='true'">
										   <div  ><div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div ></div>
										   <div >{{msg}}</div>
											   </div>
											</div> -->


						<div class="col-sm-4" ng-controller="DatepickerDemoController">


							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											Date Livraison</span>
									</div>
									<input type="text" class="form-control datepicker" datepicker-popup="{{format}}"
										ng-init="bonLivraisonVenteCourant.date =''"
										ng-model="bonLivraisonVenteCourant.date" is-open="opened"
										datepicker-options="dateOptions" date-="enabled(date, mode)" ng-required="true"
										close-text="Close" />

									<div class="input-group-append">
										<button type="button" class="btn1 btn-default" ng-click="open($event)" style="
																		color: rgb(54, 153, 255);
																		background-color: rgb(225, 240, 255);
																	">
											<i class="glyphicon glyphicon-calendar" style="color: #3699ff;"></i>
										</button>
									</div>
								</div>
							</div>

						</div>



					</div>


					<div class="row">

						<div class="col-sm-4">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">Devise </span>
									</div>
									<select ui-select2="true" class="form-control"
										ng-model="bonLivraisonVenteCourant.devise"
										ng-init="bonLivraisonVenteCourant.devise=''"
										style="border: 1px solid #e5eaee !important;">
										<option ng-repeat="dev in ListeDevise" value="{{dev.id}}">
											{{dev.designation}}</option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<label class="input-group-text ms-Label ">Taux Conversion </label>
									</div>
									<input class="form-control" type="number" step="any"
										ng-model="bonLivraisonVenteCourant.tauxConversion "
										ng-init="bonLivraisonVenteCourant.tauxConversion =''" />


								</div>
							</div>
						</div>
						
							<div class="col-sm-4">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text">Réf BL Manuelle</span>
										</div>
										<input class="form-control" ng-model="bonLivraisonVenteCourant.referenceBlManuel "
											ng-init="bonLivraisonVenteCourant.referenceBlManuel =''" />
									</div>
								</div>
							</div>

					</div>


					<div class="row">

						<div class="col-sm-3">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">Etat </span>
									</div>
									<input class="form-control" type="text" ng-model="bonLivraisonVenteCourant.etat"
										disabled />

								</div>
							</div>
						</div>


						<div class="col-sm-6">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">

										<label class="input-group-text">Observations</label>
									</div>
									<input class="form-control" ng-model="bonLivraisonVenteCourant.observations"
										style="border: 1px solid #e5eaee !important;">

									</input>



								</div>
							</div>
						</div>


						<div class="col-sm-3" ng-show="clientActif.blackMode==true">


							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<label class="input-group-text ms-Label is-required">A facturer</label>
									</div>
									<div class="input-group-prepend">
										<div class="input-group-text">
											<label class="checkbox checkbox-square checkbox-primary">
												<input type="checkbox" class="form-control"
													ng-init="bonLivraisonVenteCourant.declare=''"
													ng-model="bonLivraisonVenteCourant.declare"
													ng-change="getCurrentReferenceByType(bonLivraisonVenteCourant.declare)" />

												<span></span></label>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>

					<div class="form-group alert alert-info">
						<div class="row">


							<div class="col-sm-5">
								<div class="input-group">
									<span class="input-group-addon label1" id="basic-addon1">
										Montant TTC :</span><input class="form-control" readonly="readonly"
										value="{{bonLivraisonVenteCourant.montantTTC | prixFiltre}}" />
								</div>
							</div>






							<div class="col-sm-5">
								<div class="input-group">
									<span class="input-group-addon label1" id="basic-addon1">
										Montant Converti :</span><input class="form-control" readonly="readonly"
										value="{{bonLivraisonVenteCourant.montantConverti | prixFiltre}}" />
								</div>
							</div>

						</div>


					</div>
				</form>

			</div>
		</div>





		<!-- TAXE -->
		<div class="col-sm-12">
			<div class="title-ajout">Taxe</div>
			<div class="panel panel-primary">
				<div class="panel-body">
					<div class="form-group">
						<div class="row" ng-show="modePdf != 'actif'">


							<table class="table table-bordered table-hover table-condensed table-head-color">
								<thead>
									<tr>
										<th style="width: 30%">Type</th>
										<th style="width: 30%">Rates (%)</th>
										<th style="width: 30%">Taxe Amount</th>
										<th></th>
									</tr>
								</thead>
								<tr ng-repeat="taxeBLiv in listTaxeLivraisonInit">
									<td>
										<span editable-select="taxeBLiv.taxeId" e-name="taxeId" e-form="rowform"
											e-ng-options="s.id as s.designation for s in listeTaxes | filter:filterTaxes()">
											{{ showTaxe(taxeBLiv.taxeId) || 'empty' }} </span>
									</td>
									<td>
										<span editable-text="taxeBLiv.pourcentage" e-name="pourcentage" e-form="rowform"
											e-required> {{ taxeBLiv.pourcentage
											|| '--' }} </span>
									</td>
									<td>
										<span editable-text="taxeBLiv.montant" e-name="montant" e-form="rowform"
											e-required> {{ taxeBLiv.montant ||
											'--' }} </span>
									</td>

									<td>

										<form editable-form name="rowform" onbeforesave="saveTaxeBLivInit($data)"
											ng-show="rowform.$visible" class="form-buttons form-inline"
											shown="inserted == taxeBLiv">
											<button type="submit" ng-disabled="rowform.$waiting"
												class="btn btn-sm glyphicon glyphicon-save" aria-hidden="true"
												ng-click="onSaveTaxe(taxeBLiv.taxeId)"></button>
											<button type="button" ng-disabled="rowform.$waiting"
												ng-click="cancelAddBLVente(rowform, $index, taxeBLiv.taxeId, taxeBLiv.montant, listTaxeLivraisonInit )"
												class="btn btn-sm glyphicon glyphicon-remove"></button>
										</form>
										<div class="buttons" ng-show="!rowform.$visible">
											<button ng-click="rowform.$show()" data-nodrag
												class="btn btn-sm glyphicon glyphicon-pencil"></button>
											<button ng-click="removeTaxeBLivInit($index,taxeBLiv.taxeId)" data-nodrag
												class="btn btn-sm glyphicon glyphicon-trash"></button>
										</div>
									</td>
								</tr>
							</table>

							<button class="btn btn-default" ng-click="addTaxeBLivInit()">Add</button>






						</div>

						<div class="row" ng-show="modePdf == 'actif'">



							<table class="table table-bordered table-hover table-condensed table-head-color">
								<thead>
									<tr>
										<th style="width: 30%">Type</th>
										<th style="width: 30%">Rates (%)</th>
										<th style="width: 30%">Taxe Amount</th>
										<th></th>
									</tr>
								</thead>
								<tr ng-repeat="taxeBLiv in listTaxeLivraison">
									<td>
										<span editable-select="taxeBLiv.taxeId" e-name="taxeId" e-form="rowform"
											e-ng-options="s.id as s.designation for s in listeTaxes | filter:filterTaxes()">
											{{ showTaxe(taxeBLiv.taxeId) || 'empty' }} </span>
									</td>
									<td>
										<span editable-text="taxeBLiv.pourcentage" e-name="pourcentage" e-form="rowform"
											e-required> {{ taxeBLiv.pourcentage
											|| '--' }} </span>
									</td>
									<td>
										<span editable-text="taxeBLiv.montant" e-name="montant" e-form="rowform"
											e-required> {{ taxeBLiv.montant |
											prixFiltre }} </span>
									</td>

									<td>

										<form editable-form name="rowform" onbeforesave="saveTaxeBLiv($data)"
											ng-show="rowform.$visible" class="form-buttons form-inline"
											shown="inserted == taxeBLiv">
											<button type="submit" ng-disabled="rowform.$waiting"
												class="btn btn-sm glyphicon glyphicon-save" aria-hidden="true"></button>
											<button type="button" ng-disabled="rowform.$waiting"
												ng-click="cancelAddBLVente(rowform, $index, taxeBLiv.taxeId, taxeBLiv.montant, listTaxeLivraison )"
												class="btn btn-sm glyphicon glyphicon-remove"></button>
										</form>
										<div class="buttons" ng-show="!rowform.$visible">
											<button ng-click="rowform.$show()" data-nodrag
												class="btn btn-sm glyphicon glyphicon-pencil"></button>
											<button ng-click="removeTaxeBLiv($index, taxeBLiv.taxeId)" data-nodrag
												class="btn btn-sm glyphicon glyphicon-trash"></button>
										</div>
									</td>
								</tr>
							</table>

							<button class="btn btn-default" ng-click="addTaxeBLiv()">Add</button>



						</div>


					</div>
				</div>
			</div>
		</div>
		<!-- end TaxeDiv -->


		<!-- Mode Ajout/Edit de ayant natureLivraison=="FINI" -->
		<!-- PRODUIT : tableau ne s'affiche que si on clique sur le Btn Valider-->
		<div ng-if="natureLivraison == 'FINI'" class="col-sm-12">
			<div class="ms-ListItem-secondaryText" style="color:rgb(61, 153, 165);">Article</div>
			<div class="panel panel-primary">
				<div class="panel-body">


				

						<div class="row">
							<div class="col-sm-4">


								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<label class="input-group-text ms-Label">Service</label>
										</div>
										<select ui-select2 ng-model="produitIdFinancier" data-placeholder="..."
											class="form-control" style="border: 1px solid #e5eaee !important;"
											e-name="produitIdFinancier" e-form="rowform">
											<option value=""></option>
											<option ng-repeat="produitFinancier in listeProduitFinancier" value="{{produitFinancier.id}}">
												{{produitFinancier.designation}}</option>
										</select>



									</div>




								</div>
							</div>

							<div class="col-sm-2">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<button type="button" class="btn btn-primary" class="btn btn-action"
												ng-click="ajoutProduit(produitIdFinancier)">Ajouter</button>
	
										</div>
	
									</div>
								</div>
							</div>
							
							
							
							
							
							
							
							
							
								<div class="col-sm-4">


								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<label class="input-group-text ms-Label">Produit</label>
										</div>
										<select ui-select2 ng-model="produitIdNonFinancier" data-placeholder="..."
											class="form-control" style="border: 1px solid #e5eaee !important;"
											e-name="produitIdNonFinancier" e-form="rowform">
											<option value=""></option>
											<option ng-repeat="produitNonFinancier in listeProduitNonFinancier" value="{{produitNonFinancier.id}}">
												{{produitNonFinancier.designation}}</option>
										</select>



									</div>




								</div>
							</div>

							<div class="col-sm-2">
								<div class="form-group">
									<div class="input-group">
										<div class="input-group-prepend">
											<button type="button" class="btn btn-primary" class="btn btn-action"
												ng-click="ajoutProduitNonFinancier(produitIdNonFinancier)">Ajouter</button>
	
										</div>
	
									</div>
								</div>
							</div>
							
							
							

						</div>

				




						<div class="row">




							<table class="table table-bordered table-hover table-condensed table-head-color">
								<thead>
									<tr style="font-weight: bold">
										<th style="width: 10%">Ref</th>
										<th style="width: 20%">Designation</th>
										<th style="width: 10%">OF</th>
										<th style="width: 7%">Quantite</th>

										<th style="width: 7%">Nbr.Colis</th>
										<th style="width: 7%">P.U.H.T</th>


										<th style="width: 7%">P.T.H.Tx</th>
										<th style="width: 3%"></th>

									</tr>
								</thead>
								<tr ng-repeat="detLivVente in listDetLivraisonVentePRBS">
									<td>{{ detLivVente.produitReference  || 'empty'}}</td>
									<td>{{ detLivVente.produitDesignation  || 'empty' }}</td>
								<!-- 	<td>{{ detLivVente.numeroOF  || 'empty' }}</td>
 -->

									<td><input class="form-control"  type="text" ng-model="detLivVente.numeroOF"></td>
									
									<td><input class="form-control" type="number" ng-model="detLivVente.quantite"></td>

									

									<td>{{ detLivVente.nombreColis || 'empty' }}</td>
									<!-- 	<td>{{ detLivVente.prixUnitaireHT || 'empty' }}</td> -->


									<td><input class="form-control"  type="text" ng-model="detLivVente.prixUnitaireHT"></td>


									<td>{{ detLivVente.prixTotalHT | prixFiltre }}</td>


									<td><button data-nodrag class="btn btn-sm glyphicon glyphicon-trash"
											ng-click="removeProduit($index)"></button></td>

								</tr>
							</table>








						</div>
					
				</div>
			</div>
		





		<!-- end ProduitDiv -->


		<!-- Mode Ajout/Edit de ayant natureLivraison=="FACON" -->
		<!-- TRAITEMENT FACON : tableau ne s'affiche que si on clique sur le Btn Valider-->


		<!-- 	<div ng-if="natureLivraison == 'FACON'" class="col-sm-12">
			<div class="title-ajout">Traitements Fa&ccedil;on</div>
			<div class="panel panel-primary">
				<div class="panel-body">
					<div class="form-group">
						<div class="row">
							modeValider: Btn Valider ON
							<div ng-show="modeValider == 'actif'" class="panel panel-primary">
								<table
									class="table table-bordered table-hover table-condensed table-head-color">
									<thead>
										<tr style="font-weight: bold">
											<th style="width: 10%">Designation</th>
											<th style="width: 10%">Of ref.</th>
											<th style="width: 10%">Quantite</th>
											<th style="width: 10%">Unit</th>
											<th style="width: 10%">Nbr.Colis</th>
											<th style="width: 10%">P.U.H.T</th>
											<th style="width: 10%">Remise</th>
											<th style="width: 10%">P.T.H.Tx</th>
										</tr>
									</thead>
									<tr ng-repeat="detLivVente in listDetLivraisonVentePRBS">
										<td>{{ detLivVente.designationTraitement || 'empty' }}</td>
										<td>{{ detLivVente.refMiseList || 'empty' }}</td>
										<td><input ng-model="detLivVente.quantite"></td>
										<td>{{ detLivVente.unite || 'empty' }}</td>
										<td>{{ detLivVente.nombreColis || 'empty' }}</td>
										<td><input type="text" ng-model="detLivVente.prixUnitaireHT"></td>
										
										<td><input type="text" ng-model="detLivVente.pr"ng-blur="detLivVente.remise = (detLivVente.pr*100)/detLivVente.prixUnitaireHT"></td>
										<td>
											enregistrement Automatique 
										<input type="text"
											class="form-control" ng-change="remiseChanged($index)"
											ng-model="detLivVente.remise"
											placeholder="{{detLivVente.remise|number : 2}}" />
										</td>
										<td>{{ detLivVente.prixTotalHT | prixFiltre }}</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div> -->




	</div>

	</div>






	<div class="row" ng-show="displayMode != 'edit'">
		<div class="col-md-12">


			<br /> <span class="ms-ListItem-primaryText">Liste Des Bons De Livraison</span> <br />
			<div class="title-ajout line"></div>



			<div style="height: 500px;" ng-grid="gridOptions"></div>
		</div>
	</div>

	<div id="light" class="white_content">
		<pop-up type="delete-article"></pop-up>
	</div>
	<div id="fade" class="black_overlay"></div>



</div>