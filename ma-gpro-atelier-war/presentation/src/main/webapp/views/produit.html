<!-- Menu Produit -->
		<ul class="nav nav-gpro">
			<li class="active"><a>Produit</a></li>
		</ul>
<!-- Front -->
<div class="container-fluid" ng-controller="produitController"
	style="background-color: #fff;">
	<!-- criter de recherche -->
	<div class="row" ng-show="displayMode != 'edit'">
		<div class="col-sm-12">
			<button class="btn btn-action2 pull-right"
				ng-click="AffectationProduit(produitCourante)">Ajouter</button>
		</div>
		<div class="col-sm-12">
			<div class="title-ajout">Crit&eacute;re de recherche</div>
			<div class="panel panel-primary">
				<div class="panel-body">
					<form class="form-horizontal" name="rechercheProduitForm"
						id="rechercheProduitForm">
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">R&eacute;f.Produit</span>
										<input class="form-control"
											ng-model="produitCourante.reference" />
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">D&eacute;signation</span>
										<input class="form-control"
											ng-model="produitCourante.designation" />
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Famille</span>
										<select class="form-control"
											ng-model="produitCourante.famille">
											<option ng-repeat="famille in ListFamilleProduitCache"
												value="{{famille.id}}">{{famille.designation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Sous
											Famille</span> <select class="form-control"
											ng-model="produitCourante.sousfamille">
											<option
												ng-repeat="sousFamille in ListSousFamilleProduitCache"
												value="{{sousFamille.id}}">{{sousFamille.designation}}</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Partie
											Int&eacute;ress&eacute;e</span> <select class="form-control"
											ng-model="produitCourante.partieInteressee">
											<option ng-repeat="pi in listePartieInteressee"
												value="{{pi.id}}">{{pi.raisonSociale}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Prix
											Entre</span> <input type="text" class="form-control"
											ng-model="produitCourante.prix_inf">
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Et</span>
										<input type="text" class="form-control"
											ng-model="produitCourante.prix_sup">
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Site</span>
										<select class="form-control" ng-model="produitCourante.site">
											<option ng-repeat="site in listeSitePartieInteresseeCache"
												value="{{site.id}}">{{site.nom}}</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Etat</span>
										<select class="form-control" ng-model="produitCourante.etat">
											<option>etat1</option>
											<option>etat2</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</form>
					<div class="pull-right">
						<button class="btn-action btn">G&eacute;n&eacute;rer</button>
						<button class="btn-action btn"
							ng-click="rechercheProduit(produitCourante)">Recherecher</button>
						<button class="btn-action btn" ng-click="annulerAjout()">Annuler</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- container d'ajout,  modification et de consultation d'un produit-->
	<div class="row" ng-show="displayMode == 'edit'">
		<div class="col-md-12">
			<div class="panel panel-primary">
				<div class="row line3">
					<div class="col-sm-4">
						<div class="pull-left">
							<div class="fileinput fileinput-new" data-provides="fileinput"
								style="padding-right: 20px">
								<div class="fileinput-preview thumbnail"
									data-trigger="fileinput" style="width: 120px; height: 100px;"></div>
								<div>
									<span class="btn btn-default btn-file btn-sm"
										style="margin-top: -35%; margin-left: 9%"><span
										class="fileinput-new">Ajouter Photo</span><input type="file"
										name="" class="hidden"></span>
								</div>
							</div>
						</div>
						<div
							style="margin-left: 40%; padding-top: 85px; color: #1f8597; font-weight: bold;">{{produitCourante.designation}}</div>
					</div>
					<div class="col-sm-8">
						<div style="padding-top: 68px" class="pull-right">
							<button class="btn btn-action"
								ng-click="sauvegarderAjout(produitCourante)"
								ng-disabled="!creationProduitForm.$valid;">Enregistrer</button>
							<button class="btn btn-action" ng-click="">Generer</button>
							<button class="btn btn-action" ng-click="">Dupliquer</button>
							<button class="btn btn-action" ng-click="annulerAjout()">Retour</button>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-1">
						<button class="btn btn-action2 pull-right" ng-click=""
							style="margin-top: 10px">Produit</button>
						<button class="btn btn-action pull-right" ng-click=""
							style="margin-top: 10px">T</button>
					</div>
					<div class="col-sm-11"
						style="border: 1px #c2c2c0 solid; padding-top: 10px; padding-right: 10px; margin-left: -10px">
						<div class="title-ajout">Donn&eacute;es
							G&eacute;n&eacute;rales</div>
						<div class="panel-body" ng-show="displayMode == 'edit'">
							<form class="form-horizontal" id="creationProduitForm"
								name="creationProduitForm">
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Ref&eacute;r&eacute;nce
													<i style="color: red">*</i>
												</span> <input type="text" class="form-control"
													ng-model="produitCourante.reference" required>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">D&eacute;signation
													<i style="color: red">*</i>
												</span> <input type="text" class="form-control"
													ng-model="produitCourante.designation" required>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Famille
													<i style="color: red">*</i>
												</span> <select class="form-control"
													ng-model="produitCourante.famille" required>
													<option ng-repeat="famille in ListFamilleProduitCache"
														value="{{famille.id}}">{{famille.designation}}</option>
												</select>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Sous
													Famille<i style="color: red">*</i>
												</span> <select class="form-control"
													ng-model="produitCourante.sousFamilleId" required>
													<option
														ng-repeat="sousFamille in ListSousFamilleProduitCache"
														value="{{sousFamille.id}}">{{sousFamille.designation}}</option>
												</select>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Partie
													Int&eacute;r&eacute;sse</span> <select class="form-control"
													ng-model="produitCourante.partieIntersseId">
													<option ng-repeat="pi in listePartieInteressee"
														value="{{pi.id}}">{{pi.raisonSociale}}</option>
												</select>
											</div>
										</div>
										<div class="col-sm-3" ng-controller="DateIntroCtrl">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Date
													Intro</span> <input type="text" class="form-control datepicker"
													datepicker-popup="{{format}}" max-date="{{maxToDay}}" 
													ng-model="produitCourante.dateIntroduction"
													is-open="opened" datepicker-options="dateOptions"
													date-="enabled(date, mode)" ng-required="true"
													close-text="Close" />
												<div class="input-group-btn">
													<button type="button" class="btn btn-default"
														ng-click="open($event)">
														<i class="glyphicon glyphicon-calendar"></i>
													</button>
												</div>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Site</span>
												<select class="form-control"
													ng-model="produitCourante.siteId">
													<option ng-repeat="site in listeSitePartieInteresseeCache"
														value="{{site.id}}">{{site.nom}}</option>
												</select>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Etat</span>
												<input type="text" class="form-control"
													ng-model="produitCourante.etat"
													placeholder="Disabled Input" disabled>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Composition
												</span> <input type="text" class="form-control"
													ng-model="produitCourante.composition"
													>
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>
						<!-- Documents -->
							<div class="title-ajout">Documents</div>
							<div class="panel-body" ng-show="displayMode == 'edit'">
								<div class="form-group">
									<div class="row">
										<div class="panel panel-primary">
											<table
												class="table table-bordered table-condensed table-head-color">
												<thead>
													<tr>
														<th class="hidden" style="width: 10%">Id</th>
														<th style="width: 30%">Type Document</th>
														<th style="width: 40%">Document</th>
														<th style="width: 20%"></th>
													</tr>
												</thead>
												<tbody>
													<tr ng-repeat="documentProduit in listeDocumentProduit">
														<td class="hidden">
															<!-- editable documentProduit (text with validation) -->
															<span editable-text="documentProduit.id" e-name="id"
															e-form="rowform" e-required> {{ documentProduit.id
																|| 'empty' }} </span>
														</td>
														<td>
															<!-- editable group (select-remote) --> <span
															editable-select="documentProduit.typeDocumentId"
															e-ng-options="s.id as s.designation for s in ListTypeDocumentCache"
															e-name="idTypeDocPI" e-form="rowform">
																{{showStatus(documentProduit.typeDocumentId) }} </span>
														</td>
														<td ng-controller="UploadCtrl">
															<!-- Upload Document File -->
															<div class="form-group">
																<div class="col-sm-12">
																	<div class="fileinput fileinput-new"
																		data-provides="fileinput">
																		<input class="hidden" type="text" ng-model="name" />
																		<span class="btn btn-file btn-sm"
																			style="background: #e6e9ee"
																			ng-show="!isUploaded && rowform.$visible"> <span
																			class="fileinput-new">Selectionner fichier</span> <input
																			type="file" class="custom-file-input"
																			file-model="myFile"> <span href="#"
																			class="close fileinput-exists pull-right"
																			style="float: none; padding: 0"
																			data-dismiss="fileinput"
																			ng-show="!isUploaded && rowform.$visible">x</span>
																		</span> <span class="fileinput-filename"
																			ng-model="documentProduit.path" e-name="path"
																			e-form="rowform" e-required>{{documentProduit.path}}</span>
																	</div>
																	<a class="btn btn-danger btn-sm pull-right"
																		ng-click="downloadFile(documentProduit.uidDocument)"
																		ng-href="{{urlFile}}" ng-show="!rowform.$visible">
																		<span class="glyphicon glyphicon-cloud-download"></span>
																	</a> <a ng-click="uploadFile()"
																		ng-show="!isUploaded && rowform.$visible"
																		class="btn btn-info btn-sm fileinput-upload glyphicon glyphicon-cloud-upload pull-right">
																	</a> <a class="btn btn-success btn-sm pull-right"
																		href="D:/archive/{{documentProduit.uidDocument}}/{{documentProduit.path}}"
																		ng-show="!rowform.$visible"> <span
																		class="glyphicon glyphicon-cloud-download"></span>
																	</a>
																</div>
															</div> <input class="hidden"
															ng-model="documentProduit.uidDocument"
															e-name="uidDocument" e-form="rowform" e-required
															value="{{ documentProduit.uidDocument ||
															'empty' }} " />
														</td>
														<td style="white-space: nowrap">
															<!-- form -->
															<form editable-form name="rowform"
																onbeforesave="saveDocumentProduit($data, documentProduit.id)"
																ng-show="rowform.$visible"
																class="form-buttons form-inline"
																shown="DocumentProduitInserree == documentProduit">
																<button type="submit" ng-disabled="rowform.$waiting"
																	class="btn btn-sm glyphicon glyphicon-save"
																	aria-hidden="true"></button>
																<button type="button" ng-disabled="rowform.$waiting"
																	ng-click="cancelAddProduit(rowform, $index, documentProduit.id, documentProduit.typeDocumentId, listeDocumentProduit )"
																	class="btn btn-sm glyphicon glyphicon-remove"></button>
															</form>
															<div class="buttons" ng-show="!rowform.$visible">
																<button data-nodrag
																	class="btn btn-sm glyphicon glyphicon-pencil"
																	ng-click="rowform.$show()"></button>
																<button data-nodrag
																	class="btn btn-sm glyphicon glyphicon-trash"
																	ng-click="removeDocumentProduit($index)"></button>
															</div>
														</td>
													</tr>

												</tbody>
											</table>
											<button class="btn btn-action pull-right spacer2"
												ng-click="ajoutDocumentProduit()">Ajouter</button>
										</div>
									</div>
								</div>
							</div>
						
							
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Fin ajout et modif -->
	<!-- container Grid-->
	<div class="row" ng-show="displayMode != 'edit'">
		<div class="col-md-12">
			<div class="title-ajout line">Liste des produits</div>
			<div style="height: 500px;" ng-grid="gridOptions"></div>
		</div>
	</div>
<!-- Popup de la suppression -->
	<div id="light" class="white_content">
		<pop-up type="delete-article"></pop-up>
	</div>
	<div id="fade" class="black_overlay"></div>
	<!-- Fin Popup de la suppression -->
</div>

